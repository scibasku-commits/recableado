---
import type { Lang } from '../i18n/languages';
import { useTranslations, getLocalizedPath } from '../i18n/utils';
import HeaderLink from './HeaderLink.astro';
import LanguageToggle from './LanguageToggle.astro';

interface Props {
	lang?: Lang;
}

const { lang = 'es' } = Astro.props;
const t = useTranslations(lang);
---

<header>
	<div class="header-content">
		<a href={getLocalizedPath(lang, '/')} class="site-title">Recableado</a>
		<p class="site-subtitle">{lang === 'es' ? 'Un viajero de 72 años descubriendo el último continente' : 'A 72-year-old traveller discovering the last continent'}</p>
		<nav>
			<HeaderLink href={getLocalizedPath(lang, '/')} lang={lang}>{t('nav.home') as string}</HeaderLink>
			<HeaderLink href={getLocalizedPath(lang, '/blog')} lang={lang}>{t('nav.blog') as string}</HeaderLink>
			<HeaderLink href={getLocalizedPath(lang, '/ejercicios')} lang={lang}>{t('nav.exercises') as string}</HeaderLink>
			<HeaderLink href={getLocalizedPath(lang, '/cheatsheet')} lang={lang}>{t('nav.cheatsheet') as string}</HeaderLink>
			<HeaderLink href={getLocalizedPath(lang, '/about')} lang={lang}>{t('nav.about') as string}</HeaderLink>
			<LanguageToggle lang={lang} />
		</nav>
	</div>
	<hr />
</header>
<style>
	header {
		margin: 0;
		padding: 0 1em;
		background: var(--bg);
	}
	.header-content {
		max-width: 680px;
		margin: 0 auto;
		padding: 2em 0 1em;
		text-align: center;
	}
	.site-title {
		font-family: 'Bricolage Grotesque', sans-serif;
		font-size: 1.8em;
		font-weight: 700;
		color: var(--heading);
		text-decoration: none;
	}
	.site-title:hover {
		color: var(--naranja);
	}
	.site-subtitle {
		font-family: 'Lora', Georgia, serif;
		font-style: italic;
		color: var(--azul-medio);
		margin: 0.3em 0 1em;
		font-size: 0.95em;
	}
	nav {
		display: flex;
		justify-content: center;
		align-items: center;
		gap: 2em;
	}
	nav a {
		color: var(--text);
		text-decoration: none;
		font-family: 'Bricolage Grotesque', sans-serif;
		font-size: 0.9em;
		letter-spacing: 0.02em;
	}
	nav a:hover {
		color: var(--naranja);
	}
	nav a.active {
		color: var(--naranja);
	}
	hr {
		max-width: 680px;
		margin: 0 auto;
	}
</style>
